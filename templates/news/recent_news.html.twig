<div class="owl-carousel owl-theme" >
	{% for n in news %}
			<div class="owl-slide d-flex align-items-center cover" 
			style="
			background-image: linear-gradient(to right, rgba(0, 0, 0, .6), rgba(0, 0, 0, .6)), url({{asset('images/' ~ n.image)}});
			background-repeat: no-repeat, no-repeat;
			margin-top:-20px;
			">
			
				<div class="container">
				<div class="row justify-content-center justify-content-md-start">
					<div class="col-10 col-md-8 static" >
					<div class="owl-slide-text">
						<h2 class="owl-slide-animated owl-slide-title text-light">{{ n.title }}</h2>
						<div class="owl-slide-animated owl-slide-subtitle mb-3 text-light">{{ n.body|striptags|u.truncate(200)|raw }}</div>
					</div>
					</div>
					
				</div>
				<a class="btn btn-primary owl-slide-animated owl-slide-cta" href="{{path('single_actu',{id:n.id})}}"  role="button">Voir</a>
				</div>
			</div>
	{% endfor %}
</div>


<script>
	const $slides = $(".owl-carousel .owl-slide");
	$slides.css("height", $(window).height());
	$(window).resize(() => {
	$slides.css("height", $(window).height());
	});

	$(".owl-carousel").on("initialized.owl.carousel", () => {
	setTimeout(() => {
	$(".owl-item.active .owl-slide-animated").addClass("is-transitioned");
	$("section").show();
	}, 200);
	});

	const $owlCarousel = $(".owl-carousel").owlCarousel({
	items: 1,
	loop: true,
	nav: true,
	});

	$owlCarousel.on("changed.owl.carousel", e => {
	$(".owl-slide-animated").removeClass("is-transitioned");

	const $currentOwlItem = $(".owl-item").eq(e.item.index);
	$currentOwlItem.find(".owl-slide-animated").addClass("is-transitioned");

	const $target = $currentOwlItem.find(".owl-slide-text");
	doDotsCalculations($target);});

	function setOwlDotsPosition() {
	const $target = $(".owl-item.active .owl-slide-text");}

	function doDotsCalculations(el) {}
</script>
